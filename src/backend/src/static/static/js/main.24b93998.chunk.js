(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{5435:function(e,t,a){e.exports=a(5791)},5617:function(e){e.exports={APISERVER:"http://127.0.0.1:5000"}},5789:function(e,t,a){},5791:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(27),i=a.n(l),s=a(25),c=a.n(s),o=a(30),u=a(15),p=a(16),h=a(19),m=a(18),d=a(20),f=a(108),g=a(51),v=a(26),E=a(31),b={singleselect:{value:""},textfield:{name:"Skill",value:"",error:!1},levelfield:{name:"Level",value:"",error:!1},datefield:{name:"Date",value:"",error:!1},textarea:{name:"Note",value:"",error:!1},searchfield:{name:"Search",value:"",error:!1}},y={username:void 0,name:void 0},O={hasError:!1,message:""},k={searchValues:{},results:{},showResults:!1,error:!1};Object.freeze(k);var S={username:"Valdemar",skills:[{skillname:"Python",level:4,milestones:[{date:"2015-05-01",level:0,comment:"init"},{date:"2016-05-01",level:1,comment:"reversed engineering buch unters kopfkissen gelegt"},{date:"2016-08-03",level:1,comment:"Buch Hacking with Python gelesen"},{date:"2019-07-06",level:4,comment:"72h Python workshop"}]},{skillname:"Java",level:5,milestones:[{date:"2015-09-11",level:0,comment:"init"},{date:"2016-11-23",level:1,comment:"reversed engineering buch unters kopfkissen gelegt"},{date:"2017-01-20",level:1,comment:"Buch Hacking with Java gelesen"},{date:"2018-02-06",level:4,comment:"36h Java workshop"},{date:"2020-11-23",level:5,comment:"Java Hackaton gewonnen"}]},{skillname:"C++",level:3,milestones:[{date:"2011-09-11",level:0,comment:"init"},{date:"2017-01-20",level:1,comment:"C++ Workshop"},{date:"2018-02-06",level:2,comment:"C++ Lehrgang"},{date:"2021-11-23",level:3,comment:"C++ 3 j\xe4hriges Projekt fertig gestellt, mit 100000 Zeilen c++ Code"}]}]},j={person:0,isEditable:!0,view:0,showDialog:!1,profiles:[S,S]},w=["Python","Java","JavaScript"],C=Object(f.a)({formState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATEINPUT":return Object.assign({},e,Object(E.a)({},t.id,Object.assign({},e[t.id],{value:t.input})));case"SETINPUTERROR":return Object.assign({},e,Object(E.a)({},t.id,Object.assign({},e[t.id],{error:t.error})));case"RESETFORM":case"RESETSTATE":return b;default:return e}},page:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"login",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SWITCHPAGE":return t.page;case"RESETSTATE":return"login";default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETUSER":return t.user;case"RESETSTATE":return y;default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETERROR":return{hasError:!0,message:t.errorMsg};case"HIDEERRORDIALOG":return{hasError:!1,message:""};case"RESETSTATE":return O;default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETQUERY":return Object(v.a)({},e,{searchValues:t.values});case"SETSEARCHRESULTS":return Object(v.a)({},e,{results:t.results});case"SHOWRESULTS":return Object(v.a)({},e,{showResults:!0});case"HIDERESULTS":return Object(v.a)({},e,{showResults:!1});case"SETSEARCHERROR":return Object(v.a)({},e,{error:t.error});case"RESETSEARCH":case"RESETSTATE":return k;default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGEVIEW":return Object(v.a)({},e,{view:t.view});case"CHANGEPROFILEOWNER":return Object(v.a)({},e,{person:t.person,isEditable:0===t.person});case"OPENPROFILEDIALOG":return Object(v.a)({},e,{showDialog:t.dialogName});case"ClOSEPROFILEDIALOG":return Object(v.a)({},e,{showDialog:!1});case"ADDPROFILES":return Object(v.a)({},e,{profiles:[e.profiles[0]].concat(Object(g.a)(t.profiles))});case"SETOWNPROFILE":return Object(v.a)({},e,{profiles:[t.profile].concat(Object(g.a)(e.profiles.slice(1)))});case"RESETSTATE":return j;default:return e}},allSkills:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETALLSKILLS":return t.skills;case"RESETSTATE":return w;default:return e}}}),x=function(){try{var e=localStorage.getItem("state");if(null==e)return;return JSON.parse(e)}catch(t){return void console.log("Error: Could not load State from local storage")}}(),R=Object(f.b)(C,x);R.subscribe(function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(a){console.log("Error: Could not save state to local storage.")}}(R.getState())});var P=R,N=function(e,t){return{type:"UPDATEINPUT",id:e,input:t}},T=function(e,t){return{type:"SETINPUTERROR",id:e,error:t}},A=function(e){return{type:"SWITCHPAGE",page:e}},I={type:"RESETFORM"},L=function(e){return{type:"SETUSER",user:e}},D=function(e){return{type:"SETERROR",errorMsg:e}},F={type:"RESETSTATE"},M=function(e){return{type:"SETSEARCHRESULTS",results:e}},W={type:"SHOWRESULTS"},H=function(e){return{type:"CHANGEVIEW",view:e}},U=function(e){return{type:"CHANGEPROFILEOWNER",person:e}},V={type:"HIDEERRORDIALOG"},B=function(e){return{type:"OPENPROFILEDIALOG",dialogName:e}},G={type:"ClOSEPROFILEDIALOG"},q=function(e){return{type:"SETQUERY",values:e}},J=function(e){return{type:"ADDPROFILES",profiles:e}},z=function(e){return{type:"SETOWNPROFILE",profile:e}},Z=function(e){return{type:"SETSEARCHERROR",error:e}},Y={type:"RESETSEARCH"},Q=a(23),_=a.n(Q),K=a(8),X=a(115),$=a(6),ee=a.n($),te=a(116),ae=a(17),ne=a.n(ae),re=a(82),le=a.n(re),ie=a(34),se=a.n(ie),ce=a(33),oe=a.n(ce),ue=a(210),pe=a.n(ue),he=a(84),me=a.n(he),de=a(105),fe=a.n(de),ge=a(56);function ve(e){var t=e.inputRef,a=Object(X.a)(e,["inputRef"]);return r.a.createElement("div",Object.assign({ref:t},a))}var Ee={Control:function(e){return r.a.createElement(se.a,Object.assign({fullWidth:!0,InputProps:{inputComponent:ve,inputProps:Object(v.a)({className:e.selectProps.classes.input,inputRef:e.innerRef,children:e.children},e.innerProps)}},e.selectProps.textFieldProps,{required:!0}))},Menu:function(e){return r.a.createElement(oe.a,Object.assign({square:!0,className:e.selectProps.classes.paper},e.innerProps),e.children)},MultiValue:function(e){return r.a.createElement(pe.a,{tabIndex:-1,label:e.children,className:ee()(e.selectProps.classes.chip,Object(E.a)({},e.selectProps.classes.chipFocused,e.isFocused)),onDelete:e.removeProps.onClick,deleteIcon:r.a.createElement(fe.a,e.removeProps)})},NoOptionsMessage:function(e){return r.a.createElement(ne.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.noOptionsMessage},e.innerProps),e.children)},Option:function(e){return r.a.createElement(me.a,Object.assign({buttonRef:e.innerRef,selected:e.isFocused,component:"div",style:{fontWeight:e.isSelected?500:400}},e.innerProps),e.children)},Placeholder:function(e){return r.a.createElement(ne.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.placeholder},e.innerProps),e.children)},SingleValue:function(e){return r.a.createElement(ne.a,Object.assign({className:e.selectProps.classes.singleValue},e.innerProps),e.children)},ValueContainer:function(e){return r.a.createElement("div",{className:e.selectProps.classes.valueContainer},e.children)}},be=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){P.dispatch(q(e))},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.theme,n=P.getState(),l=n.search.error,i=n.search.searchValues;Object.keys(i).length||(i=null);var s=n.allSkills.map(function(e){return{value:e,label:e}}),c={input:function(e){return Object(v.a)({},e,{color:a.palette.text.primary,"& input":{font:"inherit"}})}};return r.a.createElement("div",{className:t.root},r.a.createElement(le.a,null,r.a.createElement(te.a,{classes:t,styles:c,textFieldProps:{InputLabelProps:{shrink:!0},error:function(e,t){return null==e&&t?"Required":void 0}(i,l)},options:s,components:Ee,value:i,onChange:this.handleChange,placeholder:"Select one or more skills you want to search for",isMulti:!0})))}}]),t}(r.a.Component),ye=Object(K.withStyles)(function(e){return{root:{flexGrow:1},input:{display:"flex",padding:0},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:"".concat(e.spacing.unit/2,"px ").concat(e.spacing.unit/4,"px")},chipFocused:{backgroundColor:Object(ge.emphasize)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,fontSize:16},paper:{position:"absolute",zIndex:1,marginTop:e.spacing.unit,left:0,right:0},divider:{height:2*e.spacing.unit}}},{withTheme:!0})(be),Oe=a(65),ke=a.n(Oe);var Se=Object(K.withStyles)(function(e){return{root:{width:"500px",margin:"2em auto"},button:{margin:e.spacing.unit},leftIcon:{marginRight:e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit}}})(function(e){var t=e.classes,a=e.onSearch;return r.a.createElement("div",{className:t.root},r.a.createElement("h1",null,"Skill Search"),r.a.createElement("form",{onSubmit:a},r.a.createElement(ye,null),r.a.createElement(_.a,{className:t.button,type:"submit",variant:"contained",color:"primary",name:"submit"},"Search",r.a.createElement(ke.a,{className:t.rightIcon}))))}),je=a(66),we=a.n(je),Ce=a(83),xe=a.n(Ce),Re=a(67),Pe=a.n(Re),Ne=a(111),Te=a.n(Ne),Ae=a(46),Ie=a.n(Ae),Le=a(214),De=a.n(Le),Fe=a(110),Me=a.n(Fe),We=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleViewProfile=function(){var e=a.props.username,t=P.getState().profile.profiles.findIndex(function(t,a){return t.username===e});P.dispatch(U(t)),P.dispatch(A("profile"))},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.isExpanded,n=e.username,l=e.skills,i=l.map(function(e,t){return"".concat(e.skillname,": level ").concat(e.level," ").concat(l[t+1]?", ":"")}),s=[];return l.forEach(function(e){s.push.apply(s,Object(g.a)(e.milestones))}),r.a.createElement(we.a,{expanded:a},r.a.createElement(Pe.a,{expandIcon:r.a.createElement(Ie.a,null)},r.a.createElement(Me.a,null,n[0]),r.a.createElement(ne.a,{className:t.heading},n),r.a.createElement(ne.a,{className:t.secondaryHeading},i)),r.a.createElement(xe.a,null,r.a.createElement(ne.a,null,"Latest Milestone",s.length>0?" (".concat(s[0].date,"): ").concat(s[0].comment," "):": -")),r.a.createElement(De.a,null),r.a.createElement(Te.a,null,r.a.createElement(_.a,{size:"small",color:"primary",onClick:this.handleViewProfile},"View Profile")))}}]),t}(n.Component),He=Object(K.withStyles)(function(e){return{root:{width:"500px",margin:"2em auto"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{color:e.palette.text.secondary,float:"left"}}})(We);var Ue=Object(K.withStyles)(function(e){return{root:{width:"500px",margin:"2em auto"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary}}})(function(e){var t=e.classes,a=e.results,n=e.heading,l=a.map(function(e,t){return r.a.createElement(He,{key:t,id:t,username:e.username,skills:e.skills})});return r.a.createElement("div",{className:t.root},r.a.createElement("h2",null,n),l)}),Ve={login:"/login",logout:"/logout",search:"/search",skill:"/skill",milestone:"/milestone"},Be=a(215),Ge=a.n(Be),qe=a(5617).APISERVER,Je=function(e){switch(e){case 400:return"Wrong login credentials.";case 401:return P.dispatch(A("login")),"You need to be logged in to view this page.";case 404:return"Couldnt connect to Server. Please try again.";case 504:return"Active Directory timeout. Please try again.";case 520:default:return"An unknown error occured. Please try again."}},ze=function(){function e(t,a){Object(u.a)(this,e),this.restApi=qe+t,this.data=a}return Object(p.a)(e,[{key:"post",value:function(){var e=Object(o.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}},e.abrupt("return",Ge.a.post(this.restApi,this.data,t).then(function(e){return e}).catch(function(e){throw e.response?new Error(Je(e.response.status)):e.request?new Error("An error occured while connecting to the server. Please check your Internet connection."):new Error(Je(520))}));case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),Ze=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).getSearchQuery=function(e){var t={};return e.forEach(function(e){t[e.value]=1}),t},a.storeAllProfiles=function(e){var t=e.has_all,a=e.has_some,n=Object(g.a)(t).concat(Object(g.a)(a));console.log(n),P.dispatch(J(n))},a.storeSearchResults=function(e){var t=e.query,a=e.results,n=a.has_all,r=a.has_some,l={hasAll:[],hasSome:[]};n.forEach(function(e){var a=e.skills,n=[];a.forEach(function(e){t.hasOwnProperty(e.skillname)&&n.push(e)}),l.hasAll.push(Object(v.a)({},e,{skills:n}))}),r.forEach(function(e){var a=e.skills,n=[];a.forEach(function(e){t.hasOwnProperty(e.skillname)&&n.push(e)}),l.hasSome.push(Object(v.a)({},e,{skills:n}))}),P.dispatch(M(l))},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"handleSearch",value:function(){var e=Object(o.a)(c.a.mark(function e(t){var a,n,r,l,i,s,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=this.props.state,n=a.user.username,console.log(n),r=a.search.searchValues,Object.keys(r).length){e.next=8;break}return P.dispatch(Z(!0)),e.abrupt("return");case 8:return l={username:n,query:this.getSearchQuery(r)},i=new ze(Ve.search,JSON.stringify(l)),e.prev=10,e.next=13,i.post();case 13:s=e.sent,o=s.data,this.storeAllProfiles(o.results),this.storeSearchResults(o),P.dispatch(W),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(10),P.dispatch(D(e.t0.message));case 23:P.dispatch(Z(!1));case 24:case"end":return e.stop()}},e,this,[[10,20]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.state,a=t.search,n=t.formState,l=a.showResults,i=a.results;return r.a.createElement("div",null,r.a.createElement(Se,{searchField:n.searchfield,onSearch:function(t){return e.handleSearch(t)}}),l&&r.a.createElement("div",null,r.a.createElement(Ue,{heading:"Matches all search therms",results:i.hasAll}),r.a.createElement(Ue,{heading:"Matches some search therms",results:i.hasSome})))}}]),t}(n.Component);var Ye=Object(K.withStyles)(function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}})(function(e){var t=e.children;return r.a.createElement(ne.a,{component:"div",style:{padding:24}},t)}),Qe=a(50),_e=a.n(Qe),Ke=a(112),Xe=a.n(Ke),$e=a(71),et=a.n($e),tt=a(47),at=a.n(tt),nt=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={value:String(a.props.level)},a.handleChange=function(e){a.props.levelChange(a.props.skill,parseInt(e.target.value)),a.setState({value:e.target.value})},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=["1","2","3","4","5"].map(function(t,a){return t<e.props.level||t>e.props.level?r.a.createElement(et.a,{key:a,value:t,control:r.a.createElement(_e.a,null),label:t,disabled:!e.props.disabled}):r.a.createElement(et.a,{key:a,value:t,control:r.a.createElement(_e.a,null),label:t})});return r.a.createElement("div",{className:t.root},r.a.createElement(at.a,{component:"fieldset",className:t.formControl},r.a.createElement(Xe.a,{"aria-label":"Level",name:"level",className:t.group,value:this.state.value,onChange:this.handleChange},a)))}}]),t}(r.a.Component),rt=Object(K.withStyles)(function(e){return{root:{width:"500%"},group:{flexDirection:"row"}}})(nt),lt=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={expanded:null},a.handleChange=function(e){return function(t,n){a.setState({expanded:!!n&&e})}},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.skill,n=a.skillname,l=a.level,i=a.milestones,s=this.state.expanded,c=i.length-1,o=i.length<1?": -":" (".concat(i[c].date,"): ").concat(i[c].comment);return r.a.createElement("div",{className:t.root},r.a.createElement(we.a,{expanded:s===this.props.skill,onChange:this.handleChange(this.props.skill)},r.a.createElement(Pe.a,{expandIcon:r.a.createElement(Ie.a,null)},r.a.createElement(ne.a,{className:t.Heading},r.a.createElement(_.a,{variant:"outlined",color:"primary",fullWidth:!0,style:{textTransform:"none"}},n),r.a.createElement("div",{onClick:function(e){return e.stopPropagation()}},r.a.createElement(rt,{level:l,skill:n,levelChange:this.props.levelChange,disabled:this.props.isEditable})))),r.a.createElement(ne.a,null,"Latest Milestone"+o)))}}]),t}(r.a.Component),it=Object(K.withStyles)(function(e){return{heading:{flexDirection:"row",fontSize:e.typography.pxToRem(15)},secondaryHeading:{flex:1,color:e.palette.text.secondary}}})(lt),st=function(e){var t=e.categories,a=0;return t.map(function(t){return r.a.createElement("div",null,r.a.createElement(it,{skill:t,key:a+=1,levelChange:e.levelChange,isEditable:e.isEditable}))})},ct=a(113),ot=a.n(ct),ut=a(138),pt=a.n(ut),ht=a(139),mt=a.n(ht),dt=a(45),ft=a.n(dt),gt=a(48),vt=a.n(gt),Et=a(218),bt=a.n(Et),yt=a(49),Ot=a.n(yt),kt=a(136),St=a.n(kt),jt=a(216),wt=(a(5764),function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.skill,n=t.witdh,l=t.height,i=t.display,s=t.enabledZoom,c=[];Object.keys(this.props.data).map(function(t){return c.push({x:e.props.data[t].date,y:e.props.data[t].level})});var o={datasets:[{label:a,data:c,pointBorderColor:"rgba(75,192,192,1)",borderColor:"rgba(75,192,192,1)",pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(75,192,192,1)",backgroundColor:"rgba(75,192,192,1)",fill:!1,pointBorderWidth:"rgba(75,192,192,1)"}]};return r.a.createElement("div",{className:"Chart"},r.a.createElement(jt.a,{data:o,width:n,height:l,options:{scales:{xAxes:[{type:"time",position:"bottom",ticks:{display:i},time:{displayFormats:{month:"MM/YY"},tooltipFormat:"ll",unit:"month"}}],yAxes:[{ticks:{display:i,beginAtZero:!0,steps:.5,stepValue:1,max:7}}]},pan:{enabled:s,mode:"x"},zoom:{enabled:s,mode:"xy",rangeMin:{y:-10},rangeMax:{y:30}},startAtZero:!0,maintainAspectRatio:!1}}))}}]),t}(n.Component)),Ct=a(36),xt=a.n(Ct),Rt=a(106),Pt=a.n(Rt),Nt=Object(K.withStyles)(function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}})(function(e){var t={props:e};return r.a.createElement("div",{className:t.root},r.a.createElement(we.a,null,r.a.createElement(Pe.a,{expandIcon:r.a.createElement(Ie.a,null)},r.a.createElement(ne.a,{className:t.heading},e.datum)),r.a.createElement(xe.a,{className:t.secondaryHeading},r.a.createElement("div",null,r.a.createElement(ne.a,null,"Level:",e.level," "),r.a.createElement(ne.a,{style:{width:"200%"}},"Comment:",e.comment)),r.a.createElement(Te.a,{style:{width:"100%",textAlign:"right"}},r.a.createElement(xt.a,null,r.a.createElement(Pt.a,null))))))}),Tt=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=Object.keys(e.data).map(function(t){return r.a.createElement(Nt,{datum:e.data[t].date,level:e.data[t].level,comment:e.data[t].comment})});return r.a.createElement("div",null,r.a.createElement(pt.a,{className:e.card},r.a.createElement(ft.a,{className:this.props.classes.cardAction,onClick:this.handleClickOpen},r.a.createElement(mt.a,null,r.a.createElement(wt,{height:200,width:300,display:!1,skill:this.props.skill,data:e.data,enabledZoom:!1})))),r.a.createElement(vt.a,{open:this.state.open,onClose:this.handleClose,TransitionComponent:At},r.a.createElement(ne.a,{variant:"h5",component:"h2"},r.a.createElement(pt.a,null,r.a.createElement(mt.a,null,r.a.createElement(ne.a,{variant:"h5",component:"h2"},r.a.createElement(wt,{height:400,width:800,display:!0,skill:this.props.skill,data:e.data,enabledZoom:!0})),r.a.createElement(St.a,null,t)))),r.a.createElement(Ot.a,null,r.a.createElement(_.a,{onClick:this.handleClose,color:"primary"},"Cancel"))),r.a.createElement("div",null))}}]),t}(r.a.Component);function At(e){return r.a.createElement(bt.a,Object.assign({direction:"up"},e))}var It=Object(K.withStyles)(function(e){return{root:{height:180},appBar:{position:"relative"},flex:{flex:1},container:{display:"flex"},card:{minWidth:150}}})(function(e){return r.a.createElement(Tt,{skill:e.skill,classes:e})}),Lt=function(e){var t=e.categories,a=0,n=t.map(function(e){return r.a.createElement(ot.a,{key:a+=1,item:!0},r.a.createElement(It,{skill:e.skillname,data:e.milestones}))});return r.a.createElement(ot.a,{container:!0,justify:"center",spacing:16},n)},Dt=a(219),Ft=a.n(Dt),Mt={container:{display:"flex",flexWrap:"wrap"},textField:{width:"500px"},error:{color:"red"}},Wt=(Object(K.withStyles)(Mt)(function(e){var t=e.classes;return r.a.createElement(se.a,{required:!0,id:"outlined-required",type:"text",label:e.data.name,value:e.data.value,className:"".concat(t.textField," ").concat(e.data.name),error:e.data.error,margin:"normal",variant:"outlined",onChange:function(t){return e.onChange("textfield",t.target.value)}})}),Object(K.withStyles)(Mt)(function(e){var t=e.classes;return r.a.createElement(se.a,{required:!0,id:"outlined-required",type:"text",label:e.data.name,value:e.data.value,className:"".concat(t.textField," ").concat(e.data.name),error:e.data.error,margin:"normal",variant:"outlined",onChange:function(t){return e.onChange("searchfield",t.target.value)},InputProps:{endAdornment:r.a.createElement(Ft.a,{position:"end"},r.a.createElement(ke.a,null))}})}),Object(K.withStyles)(Mt)(function(e){var t=e.classes;return r.a.createElement(se.a,{required:!0,id:"outlined-required",type:"date",label:e.data.name,value:e.data.value,className:"".concat(t.textField," ").concat(e.data.name),error:e.data.error,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0},onChange:function(t){return e.onChange("datefield",t.target.value)}})})),Ht=Object(K.withStyles)(Mt)(function(e){var t=e.classes;return r.a.createElement(se.a,{required:!0,multiline:!0,rows:"4",label:e.data.name,value:e.data.value,className:"".concat(t.textField," ").concat(e.data.name),error:e.data.error,margin:"normal",variant:"outlined",onChange:function(t){return e.onChange("textarea",t.target.value)}})}),Ut=Object(K.withStyles)(Mt)(function(e){var t=e.classes,a="";e.data.error&&(a=t.error);var n=["1","2","3","4","5"].map(function(t,n){return r.a.createElement(_e.a,{key:n,checked:e.data.value===t,onChange:function(t){return e.onChange("levelfield",t.target.value)},value:t,"aria-label":"Level ".concat(t),title:"Level ".concat(t),className:a})});return r.a.createElement("div",{className:"".concat(t.textField," ").concat(t.levelPicker)},n)});function Vt(e){var t=e.inputRef,a=Object(X.a)(e,["inputRef"]);return r.a.createElement("div",Object.assign({ref:t},a))}var Bt={Control:function(e){return r.a.createElement(se.a,Object.assign({fullWidth:!0,InputProps:{inputComponent:Vt,inputProps:Object(v.a)({className:e.selectProps.classes.input,inputRef:e.innerRef,children:e.children},e.innerProps)}},e.selectProps.textFieldProps))},Menu:function(e){return r.a.createElement(oe.a,Object.assign({square:!0,className:e.selectProps.classes.paper},e.innerProps),e.children)},NoOptionsMessage:function(e){return r.a.createElement(me.a,Object.assign({buttonRef:e.innerRef,selected:e.isFocused,component:"div",style:{fontWeight:e.isSelected?500:400}},e.innerProps),e.children)},Option:function(e){return r.a.createElement(me.a,Object.assign({buttonRef:e.innerRef,selected:e.isFocused,component:"div",style:{fontWeight:e.isSelected?500:400}},e.innerProps),e.children)},Placeholder:function(e){return r.a.createElement(ne.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.placeholder},e.innerProps),e.children)},SingleValue:function(e){return r.a.createElement(ne.a,Object.assign({className:e.selectProps.classes.singleValue},e.innerProps),e.children)},ValueContainer:function(e){return r.a.createElement("div",{className:e.selectProps.classes.valueContainer},e.children)}},Gt=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={single:null},a.handleChange=function(e){return function(t){P.dispatch(N("singleselect",t.value)),a.setState(Object(E.a)({},e,t))}},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.allSkills.map(function(e){return{value:e,label:e}}),t=this.props,a=t.classes,n=t.theme,l={input:function(e){return Object(v.a)({},e,{color:n.palette.text.primary,"& input":{font:"inherit"}})}};return r.a.createElement("div",{className:a.root},r.a.createElement(le.a,null,r.a.createElement(te.a,{classes:a,styles:l,options:e,components:Bt,value:this.state.single,onChange:this.handleChange("single"),placeholder:"Select "})))}}]),t}(r.a.Component),qt=Object(K.withStyles)(function(e){return{root:{flexGrow:1,marginTop:2},input:{display:"flex",padding:0},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},noOptionsMessage:{padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,fontSize:16}}},{withTheme:!0})(Gt),Jt=a(104),zt=a.n(Jt),Zt=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={value:String(a.props.level)},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=["1","2","3","4","5"].map(function(t,a){return t<e.props.level||t>e.props.level?r.a.createElement(et.a,{key:a,value:t,control:r.a.createElement(_e.a,null),label:t,disabled:!e.props.disabled}):r.a.createElement(et.a,{key:a,value:t,control:r.a.createElement(_e.a,{checked:!0}),label:t})});return r.a.createElement("div",{className:t.root},r.a.createElement(at.a,{component:"fieldset",className:t.formControl},r.a.createElement(zt.a,{component:"legend"},"Level: "),r.a.createElement(Xe.a,{"aria-label":"Level",name:"level",margin:"normal",className:t.group,value:this.state.level},a)))}}]),t}(r.a.Component),Yt=Object(K.withStyles)(function(e){return{root:{display:"flex",flexDirection:"row"},formControl:{margin:"10px",flexDirection:"row",justifyContent:"space-around"},group:{flexDirection:"row",justifyContent:"space-around"}}})(Zt),Qt=a(69),_t=a.n(Qt),Kt=a(70),Xt=a.n(Kt),$t=a(68),ea=a.n($t),ta=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleClose=function(){P.dispatch(I),P.dispatch(G)},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"handleSubmit",value:function(){var e=Object(o.a)(c.a.mark(function e(t){var a,n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.datum&&""!==t.comment&&""!==t.skill||(t=!1),!t){e.next=14;break}return a=new ze(Ve.milestone,JSON.stringify(t)),e.prev=3,e.next=6,a.post();case 6:n=e.sent,r=n.data,P.dispatch(z(r)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),P.dispatch(D(e.t0.message));case 14:this.handleClose();case 15:case"end":return e.stop()}},e,this,[[3,11]])}));return function(t){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e,t){P.dispatch(N(e,t))}},{key:"render",value:function(){var e=this,t=P.getState(),a=t.profile,n=a.showDialog,l=a.person,i=a.profiles,s=t.formState,c=s.datefield,o=s.textarea,u=s.singleselect,p=i[l],h=u.value,m="Choose a Skill!";Object.keys(p.skills).map(function(e){p.skills[e].skillname===h&&(m=p.skills[e].level)});var d={username:p.username,skill:h,date:c.value,level:m,comment:o.value},f=[];return Object.keys(p.skills).map(function(e){f[e]=p.skills[e].skillname}),r.a.createElement("div",null,r.a.createElement(vt.a,{open:"milestone"===n,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(ea.a,{id:"form-dialog-title"},"New milestone"),r.a.createElement(_t.a,null,r.a.createElement(Xt.a,null,"To add a new milestone please fill in all inputfields."),r.a.createElement(qt,{allSkills:f}),r.a.createElement(Yt,{level:m}),r.a.createElement(Wt,{data:c,onChange:function(t,a){return e.handleChange(t,a)}}),r.a.createElement(Ht,{data:o,onChange:function(t,a){return e.handleChange(t,a)}})),r.a.createElement(Ot.a,null,r.a.createElement(_.a,{onClick:this.handleClose,color:"primary"},"Cancel"),r.a.createElement(_.a,{onClick:function(){return e.handleSubmit(d)},color:"primary"},"Submit"))))}}]),t}(r.a.Component),aa=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleClose=function(){P.dispatch(I),P.dispatch(G)},a.getPerson=function(e){return e.profile.person},a.getProfile=function(e){return e.profile.profiles[a.getPerson(e)]},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"handleSubmit",value:function(){var e=Object(o.a)(c.a.mark(function e(t,a){var n,r,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),n=new ze(Ve.skill,JSON.stringify(t)),e.prev=2,e.next=5,n.post();case 5:r=e.sent,l=r.data,P.dispatch(z(l)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),P.dispatch(D(e.t0.message));case 13:this.handleClose();case 14:case"end":return e.stop()}},e,this,[[2,10]])}));return function(t,a){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e,t){P.dispatch(N(e,t))}},{key:"render",value:function(){var e=this,t=P.getState(),a=t.allSkills,n=t.profile.showDialog,l=t.formState,i=l.datefield,s=l.textarea,c=l.levelfield,o=l.singleselect,u=this.getProfile(t);u.username,i.value,c.value,o.value,s.value;var p={username:u.username,skills:Object(E.a)({},o.value,c.value)},h=Object.keys(u.skills).map(function(e){return u.skills[e].skillname}),m=[];for(var d in Object.keys(a))a.hasOwnProperty(d)&&(h.includes(a[d])||m.push(a[d]));return r.a.createElement("div",null,r.a.createElement(vt.a,{open:"skill"===n,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(ea.a,{id:"form-dialog-title"},"New skill"),r.a.createElement(_t.a,null,r.a.createElement(Xt.a,null,"To add a new Skill please fill in all inputfields."),r.a.createElement(qt,{allSkills:m}),r.a.createElement(se.a,{id:"standard-with-placeholder",label:"add new skill to database",placeholder:"new skill",margin:"normal",onChange:function(e){return t=e.target.value,void(o.value=t);var t}}),r.a.createElement(Ut,{data:c,required:!0,onChange:function(t,a){return e.handleChange(t,a)}})),r.a.createElement(Ot.a,null,r.a.createElement(_.a,{onClick:this.handleClose,color:"primary"},"Cancel"),r.a.createElement(_.a,{onClick:function(){return e.handleSubmit(p,!1)},color:"primary"},"Submit"))))}}]),t}(n.Component),na=a(114),ra=a.n(na),la=a(220),ia=a.n(la),sa=a(140),ca=a.n(sa),oa=a(58),ua=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).localUpdate=[],a.handleLevelChange=function(e,t){a.localUpdate.push([{skill:e,level:t}])},a.handleChange=function(e,t){P.dispatch(H(t))},a.handleNewSkill=function(){P.dispatch(B("skill"))},a.handleNewMilestone=function(){console.log("NewMilestone")},a.openNewMilestoneDialog=function(){P.dispatch(B("milestone"))},a.switchToSearchPage=function(){P.dispatch(A("search"))},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"applyLevelUpdates",value:function(){var e=Object(o.a)(c.a.mark(function e(t){var a,n,r,l,i,s,o,u,p=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.state,n=a.profile.person,r=a.profile.profiles[n].username,l={username:r,skills:{}},i=[],console.log(this.localUpdate),Object.keys(t).map(function(e){Object.keys(p.localUpdate).map(function(a){t[e].skillname===p.localUpdate[a][0].skill&&(i.push(p.localUpdate[a][0].skill),l.skills[p.localUpdate[a][0].skill]=p.localUpdate[a][0].level)})}),s=new ze(Ve.skill,JSON.stringify(l)),e.prev=8,e.next=11,s.post();case 11:o=e.sent,u=o.data,P.dispatch(z(u)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(8),P.dispatch(D(e.t0.message));case 19:console.log(l),this.localUpdate=[],delete l[t];case 22:case"end":return e.stop()}},e,this,[[8,16]])}));return function(t){return e.apply(this,arguments)}}()},{key:"getOwnerArticle",value:function(){var e=this.props.state,t=e.profile,a=t.person,n=t.isEditable,r=e.profile.profiles[a].username;return n?"My ":r+"'s "}},{key:"render",value:function(){var e=this.props,t=e.state,a=e.classes,n=t.profile,l=n.person,i=n.profiles,s=n.view,c=n.showDialog,o=n.isEditable,u=i[l].skills,p=u.slice(),h=this.getOwnerArticle();return r.a.createElement("div",{className:a.root},r.a.createElement(ra.a,{position:"static"},r.a.createElement(ia.a,{value:s,onChange:this.handleChange,centered:!0,fullWidth:!0},r.a.createElement(ca.a,{label:h+"Profile"}),r.a.createElement(ca.a,{label:h+"Statistics"}))),!o&&r.a.createElement(xt.a,{className:a.goBackButton,onClick:this.switchToSearchPage,color:"inherit","aria-label":"Go Back"},r.a.createElement(oa.b,null),r.a.createElement(oa.d,null)),r.a.createElement("div",null,0===s&&r.a.createElement(Ye,null,r.a.createElement(st,{categories:u,levelChange:this.handleLevelChange,isEditable:o}),o&&r.a.createElement("div",null,r.a.createElement(ta,{open:"milestone"===c}),r.a.createElement(aa,null),r.a.createElement("div",{className:"button-container"},r.a.createElement(_.a,{variant:"contained",color:"primary",onClick:this.openNewMilestoneDialog},"New Milestone"),r.a.createElement(_.a,{variant:"contained",color:"primary",name:"submit",onClick:this.handleNewSkill},"New Skill"),r.a.createElement(_.a,{name:"bla",variant:"contained",color:"primary",onClick:this.applyLevelUpdates.bind(this,p)},"Apply Changes")))),1===s&&r.a.createElement(Ye,null,r.a.createElement(Lt,{categories:u}))))}}]),t}(n.Component),pa=Object(K.withStyles)(function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper},goBackButton:{position:"static",display:"block",margin:"10px"}}})(ua),ha=a(221),ma=a.n(ha),da=a(64),fa=a.n(da),ga=a(109),va=a.n(ga),Ea=a(107),ba=a.n(Ea),ya=a(5);var Oa=a.n(ya)()(function(e){return{main:Object(E.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:10*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit}}})(function(e){var t=e.classes,a=e.errorMsg,n="",l="";return r.a.createElement("main",{className:t.main},r.a.createElement(ma.a,null),r.a.createElement(oe.a,{className:t.paper},r.a.createElement(Me.a,{className:t.avatar},r.a.createElement(ba.a,null)),r.a.createElement(ne.a,{component:"h1",variant:"h4"},"Skill Matrix"),r.a.createElement("p",null,a),r.a.createElement("form",{onSubmit:function(t){e.login(l,n),t.preventDefault()},className:t.form},r.a.createElement(at.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(va.a,{htmlFor:"email"},"Email Address"),r.a.createElement(fa.a,{id:"email",name:"email",autoComplete:"email",onChange:function(e){l=e.target.value},autoFocus:!0})),r.a.createElement(at.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(va.a,{htmlFor:"password"},"Password"),r.a.createElement(fa.a,{name:"password",type:"password",id:"password",onChange:function(e){n=e.target.value},autoComplete:"current-password"})),r.a.createElement(_.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Sign in"))))}),ka=a(222),Sa=a.n(ka),ja=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).switchToProfilePage=function(){P.dispatch(U(0)),a.constructor.switchToPage("profile")},a.switchToSearchPage=function(){P.dispatch(Y),a.constructor.switchToPage("search")},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"handleLogout",value:function(){var e=Object(o.a)(c.a.mark(function e(){var t,a,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.state,a={username:t.user.username},n=new ze(Ve.logout,JSON.stringify(a)),e.prev=3,e.next=6,n.post();case 6:P.dispatch(F),P.dispatch(A("login")),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0),P.dispatch(D(e.t0.message));case 14:case"end":return e.stop()}},e,this,[[3,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.user;return r.a.createElement("div",{className:a.root},r.a.createElement(ra.a,{position:"static"},r.a.createElement(Sa.a,null,r.a.createElement(xt.a,{className:a.menuButton,onClick:this.switchToProfilePage,color:"inherit","aria-label":"Menu"},r.a.createElement(oa.a,null)),r.a.createElement(ne.a,{variant:"h6",color:"inherit",className:a.grow},n.name),r.a.createElement(xt.a,{className:a.menuButton,onClick:this.switchToSearchPage,color:"inherit","aria-label":"Menu"},r.a.createElement(oa.d,null)),r.a.createElement(xt.a,{className:a.menuButton,onClick:function(){return e.handleLogout()},color:"inherit","aria-label":"Menu"},r.a.createElement(oa.c,null)))))}}],[{key:"switchToPage",value:function(e){P.dispatch(A(e))}}]),t}(n.Component),wa=Object(K.withStyles)({root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20}})(ja),Ca=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.state.error,t=e.hasError,a=e.message;return r.a.createElement("div",null,r.a.createElement(vt.a,{open:t,onClose:this.constructor.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(ea.a,{id:"alert-dialog-title"},"An Error occured!"),r.a.createElement(_t.a,null,r.a.createElement(Xt.a,{id:"alert-dialog-description"},a)),r.a.createElement(Ot.a,null,r.a.createElement(_.a,{onClick:this.constructor.handleClose,color:"primary",autoFocus:!0},"Close"))))}}]),t}(r.a.Component);Ca.openErrorDialog=function(e){P.dispatch(D(e))},Ca.handleClose=function(){P.dispatch(V)};var xa=Ca,Ra=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"handleChange",value:function(e,t){this.props.state.formState[e].error&&P.dispatch(T(e,!1)),P.dispatch(N(e,t))}},{key:"handleSubmit",value:function(e){var t=this.props.state,a=t.page,n=t.formState,r=!0;"form"===a&&Object.keys(n).foreach(function(e){""===n[e].value?(P.dispatch(T(e,!0)),r=!1):P.dispatch(T(e,!1))});r&&P.dispatch(A(e))}},{key:"render",value:function(){var e,a=this,n=this.props.state,l=n.page,i=n.error,s=n.user,c=i.hasError;switch(l){case"login":return r.a.createElement(Oa,{errorMsg:i.message,login:function(e,a){return t.handleLogin(e,a)}});case"search":e=r.a.createElement(Ze,{onChange:function(e,t){return a.handleChange(e,t)},state:n});break;case"profile":e=r.a.createElement(pa,{state:n});break;default:return"Error"}return r.a.createElement("div",null,r.a.createElement(wa,{state:n,user:s}),r.a.createElement("main",null,e,c&&r.a.createElement(xa,{state:n})))}}],[{key:"handleLogin",value:function(){var e=Object(o.a)(c.a.mark(function e(t,a){var n,r,l,i,s,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={username:t,password:a},r=new ze(Ve.login,JSON.stringify(n)),e.prev=2,e.next=5,r.post();case 5:l=e.sent,i=l.data,s=i.user,o=i.allSkills,P.dispatch(L({username:s.username,name:s.name})),P.dispatch({type:"SETALLSKILLS",skills:o}),P.dispatch(z(s)),P.dispatch(A("search")),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),P.dispatch(D(e.t0.message)),P.dispatch(A("login"));case 18:case"end":return e.stop()}},e,this,[[2,14]])}));return function(t,a){return e.apply(this,arguments)}}()},{key:"handleResetForm",value:function(){P.dispatch(I)}}]),t}(n.Component),Pa=(a(5789),function(){i.a.render(r.a.createElement(Ra,{state:P.getState()}),document.getElementById("root"))});P.subscribe(Pa),Pa()}},[[5435,2,1]]]);
//# sourceMappingURL=main.24b93998.chunk.js.map